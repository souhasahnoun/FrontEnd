<app-header></app-header>
<div >
  <div class="am-content">
    <div class="page-head">
        <h2>BON DE LIVRAISON</h2>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a >Ventes</a></li>
          <li class="breadcrumb-item"><a href="/blclient">Bon de livraison</a></li>
        </ol>
      </div>
      <div class="main-content">
        <div class="row">
          <div class="col-md-6">
            <div class="card3">
              <div class="card-header">
                <h3>Ajouter un nouveau bon de livraison</h3><h4 class=" h5"><b>{{message}}</b></h4>
              </div>
              <div class="card-body">
                <div>
             
                  <div  class="form-group radio0">
                    <label for="num">Bon de livraison N°</label>   
                    <input class="form-control label3" type="text" id="num" name="num" [(ngModel)]="document.num"  #num="ngModel" minlength="2" maxlength="5" pattern="[0-9\s ]*" required>
                    <div *ngIf="num.invalid && (num.dirty || num.touched)"
                    class="f55">
                
                  <div *ngIf="num.errors.required">
                   champs num est obligatoire.
                  </div>
                  <div *ngIf="num.errors.minlength">
                    num doit comporter au moins 2 caractères.
                  </div>
                  <div *ngIf="num.errors.maxlength">
                    num doit contenir au maximum 5 caractères.
                  </div>
                  <div *ngIf="num.errors.pattern">
                    num doit être un numero.
                  </div>
                </div>
                  </div>
				          <div class="form-group">
                    <label for="client_id">Client</label>
                    <select  id="client_id" name="client_id" class="form-control label3" size="1"  #client_id="ngModel" (change)="onSelectType($event.target)" [(ngModel)]="document.client_id"  required>
                        
                      <option
                        
                        *ngFor="let client of clients.controls; index as i"
                        [value]="client.value.id">{{client.value.raison_social}}
                    </option>
                    </select>
                    <div *ngIf="client_id.invalid && (client_id.dirty || client_id.touched)"
                    class="f55">
                
                  <div *ngIf="client_id.errors.required">
                   champs client_id est obligatoire.
                  </div>
                  </div>
                  </div>
                  <div class="form-group">
                    <label for="date">Sfax le</label>
                    <input class="form-control label3"  type="date" id="date" name="date" #date="ngModel" [(ngModel)]="document.date"  required>
                  </div>
                  
                <br><br>
               <div class="form-group radio1">
                <input type="radio" name="type1" value=00 id="bl"    checked>&nbsp;&nbsp; Bon de livraison

                </div>
                &nbsp;&nbsp;&nbsp;
                <div class="form-group">
                  <input type="radio" name="type1" value=11 id="bs"   >
                  &nbsp;&nbsp; Bon de sortie
                </div>
                <br><br>
                
                <div class="form-group radio0">
                    <input type="radio" name="type" value=7 id="nl"  #type="ngModel" [(ngModel)]="document.type">
                    &nbsp;&nbsp; Nouvelle livraison
                </div>
                &nbsp;&nbsp;&nbsp;
                <div class="form-group">
                    <input type="radio" name="type" value=8 id="bc"  #type="ngModel" [(ngModel)]="document.type">
                    &nbsp;&nbsp; Commande client
                </div>
                &nbsp;&nbsp;&nbsp;
                <div class="form-group">
                    <input type="radio" name="type" value=1 id="devis"  #type="ngModel" [(ngModel)]="document.type">
                    &nbsp;&nbsp; Devis
                </div>
                &nbsp;&nbsp;&nbsp;
                <div class="form-group">
                    <input type="radio" name="type" value=2 id="proforma"  #type="ngModel" [(ngModel)]="document.type">
                    &nbsp;&nbsp; Facture proforma
                    
                </div>
                <br><br>
                <button *ngIf="document.type == 7 "   class="b8 btn btn-space btn-primary" type="submit" (click)="ajouterBL()">Ajouter</button>
                <button *ngIf=" document.type == 8 " routerLink="/blcommandeclt/{{document.id}}" class="b8 btn btn-space btn-primary" type="submit" (click)="ajouterBL()" >Suivant</button>
                <button *ngIf="document.type == 1 "  routerLink="/bldevisclt/{{document.id}}" class="b8 btn btn-space btn-primary" type="submit" (click)="ajouterBL()">Suivant</button>
                <button *ngIf=" document.type == 2 " routerLink="/blproformaclt/{{document.id}}" class="b8 btn btn-space btn-primary" type="submit" (click)="ajouterBL()">Suivant</button>
                <button *ngIf=" document.type == 7 " class="btn btn-space btn-primary" type="submit" (click)="reset()">Annuler</button>
                <button *ngIf="document.type == 8" class="btn btn-space btn-primary" type="submit"  (click)="reset()">Annuler</button>
                <button *ngIf=" document.type == 1 " class="btn btn-space btn-primary" type="submit" (click)="reset()">Annuler</button>
                <button *ngIf="document.type == 2" class="btn btn-space btn-primary" type="submit"  (click)="reset()">Annuler</button>
                </div>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
  </div>

